(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{885:function(t,e,r){t.exports=r.p+"assets/img/2022-05-16-15-08-16.cf946dba.png"},886:function(t,e,r){t.exports=r.p+"assets/img/2022-05-16-15-16-04.4ad95f76.png"},887:function(t,e,r){t.exports=r.p+"assets/img/2022-05-16-15-39-05.c7299e68.png"},956:function(t,e,r){"use strict";r.r(e);var a=r(8),_=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("三方需要向希沃提供 Oauth2 接口，让希沃可以获取用户信息，以完成用户绑定与登录。")]),t._v(" "),a("p",[t._v("通用文档："),a("br"),t._v(" "),a("a",{attrs:{href:"https://shimo.im/docs/pdXYdw3pHXPr6XYw/read",target:"_blank",rel:"noopener noreferrer"}},[t._v("三方学校对接希沃标准流程文档"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("以上是通用的文档（除了接入希沃的 EN5 业务，也可以接入其它业务），以下就 EN5 Windows 客户端的接入，做补充详细说明。")]),t._v(" "),a("h2",{attrs:{id:"登录入口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录入口"}},[t._v("#")]),t._v(" 登录入口")]),t._v(" "),a("p",[t._v("在安装相关的登录插件（由希沃提供或调试工具生成）之后，重启 EN5，可以在登录界面看到相关的登录入口。")]),t._v(" "),a("p",[a("img",{attrs:{src:r(885),alt:""}})]),t._v(" "),a("p",[t._v("点击入口，会以 web 形式呈现三方的登录页面（URL由三方提供），此 web 窗口的大小是 460*450，要求 web 页面需要针对此大小做布局优化。")]),t._v(" "),a("p",[a("img",{attrs:{src:r(886),alt:""}})]),t._v(" "),a("p",[t._v("用户在此页面，使用三方账号登录 EN5。")]),t._v(" "),a("h2",{attrs:{id:"技术流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#技术流程"}},[t._v("#")]),t._v(" 技术流程")]),t._v(" "),a("p",[t._v("为了方便说明，以下文档的中三方，使用 MAXHUB 作为举例。")]),t._v(" "),a("h3",{attrs:{id:"_1-登录-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-登录-url"}},[t._v("#")]),t._v(" 1 登录 URL")]),t._v(" "),a("p",[t._v("上面提到，三方需要提供登录 URL，此 URL 可以是标准的 Oauth URL，也可以是定制化的 URL。")]),t._v(" "),a("p",[t._v("标准 Oauth URL 举例：")]),t._v(" "),a("p",[a("code",[t._v("http://maxhub.com/oauth/authorize?app_id=d35909a4e270&redirect_uri=https://id.seewo.com/cas/adapter/maxhub/seewo/easinote-login&response_type=code&state=1")])]),t._v(" "),a("p",[t._v("其中 redirect_uri 是用户登录成功之后，三方回调希沃的地址，并在回调此 redirect_uri 时，附带 Code 参数。\n此 redirect_uri 由希沃提供。")]),t._v(" "),a("p",[t._v("这种方式对三方来说，是比较通用的。")]),t._v(" "),a("p",[t._v("另一种 URL 形式，是三方为希沃提供定制的 URL，举例：")]),t._v(" "),a("p",[a("code",[t._v("http://maxhub.com/oauth/authorize/seewo?redirect_uri=https://id.seewo.com/cas/adapter/maxhub/seewo/easinote-login")])]),t._v(" "),a("p",[t._v("将参数隐藏，放在后台中处理。一般没有必要使用这种方式。")]),t._v(" "),a("blockquote",[a("p",[t._v("PS 这里之所以不将 redirect_uri 也一起隐藏到定制数据中，是因为，这个回调 URL 只是对于希沃白板5这个业务场景有效，其它的希沃业务场景，如 web 端的唤起等，需要另外的回调地址。")])]),t._v(" "),a("p",[t._v("具体使用哪种 URL 形式，由第三方自行决定。")]),t._v(" "),a("h3",{attrs:{id:"_2-用户登录与帐号绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-用户登录与帐号绑定"}},[t._v("#")]),t._v(" 2 用户登录与帐号绑定")]),t._v(" "),a("p",[t._v("在用户使用三方账号登录成功之后，web 页面应当被重定向到提供的 redirect_uri，并通过 query 参数附带 Code 数据。\n希沃将通过此 Code 数据，最终获取到三方的用户信息。")]),t._v(" "),a("p",[t._v("情况1：如果此三方用户没有绑定希沃账号（首次登录），则 web 页面会重定向到账号绑定页面，要求用户绑定手机号。")]),t._v(" "),a("p",[a("img",{attrs:{src:r(887),alt:""}})]),t._v(" "),a("p",[t._v("如果此手机号已经是希沃账号，则会直接绑定，如果此手机号不是希沃账号，则会创建一个新的希沃账号。")]),t._v(" "),a("p",[t._v("完成绑定之后，登录窗口会自动关闭，登入到云课件列表界面。")]),t._v(" "),a("p",[t._v("情况2：如果此三方用户已经绑定了希沃帐号，则登录窗口会直接关闭，登入到云课件列表界面。")]),t._v(" "),a("h2",{attrs:{id:"注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),a("ol",[a("li",[t._v("登录窗口的大小为 460*450，是一个比较小的窗口，UI 显示上需要做适配。")]),t._v(" "),a("li",[t._v("此处的登录 URL，不应使用浏览器缓存保存登录状态，否则下次进入将直接登录，无法输入账号登录。")])]),t._v(" "),a("h2",{attrs:{id:"附录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[t._v("#")]),t._v(" 附录")]),t._v(" "),a("p",[t._v("相关文档备忘链接（无需关注）")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://shimo.im/docs/pdXYdw3pHXPr6XYw/read",target:"_blank",rel:"noopener noreferrer"}},[t._v("三方学校对接希沃标准流程文档"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://shimo.im/docs/WlArzGKRQQi98lA2",target:"_blank",rel:"noopener noreferrer"}},[t._v("三方登录接入希沃白板 Windows 客户端"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=_.exports}}]);